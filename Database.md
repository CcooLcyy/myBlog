---
title: Database
date: 2021-09-08 20:54:04
tags:
---
# 基本概念
数据库：一个含有大量数据的可以被多个部门的用户同时使用的大数据集。
数据库管理系统（DBMS）：看作管理和控制这组数据的软件。
数据库应用：是一个程序，用于某些点和数据库进行相互的沟通。
数据库系统：用来指代包括与数据库相互作用的一组应用程序、DBMS和数据库在内的左右东西。
# 基于文件的传统的系统
基于文件的系统目前已经不在使用。但是为了进行简单的回顾，以及了解这个系统的优缺点，还是要大概的描述一下。我们可以在数据库系统中避免重复的问题，也就是学习之前的错误并进行改正。
1. 基于文件的系统是将人们熟悉的手工文件计算机化的一种早期的方法。
2. 当存储的项目数量较少时，手工的文件系统仍然可以很好的发挥作用。
3. 当需要进行交叉引用，或者是更改文件中的信息时，手工的文件系统就无法很好的进行工作。
## 基于文件的系统的基本术语
文件：文件中包含很多记录，一个文件是这些记录的简单集合
记录：记录中包含逻辑上相关的一个或多个数据项（域）
数据项：每个数据项都是现实世界中的抽象出来的某种特征。
## 基于文件方法的局限性
1. 数据被分离和孤立
比如说我们需要创建一个满足特定条件的列表，我们就必须创建一个临时的文件，并且列出所有符合条件的文件，这个过程对文件系统来说非常困难。当时如果多个条件同时满足的时候，难度会继续增加。
2. 数据存在冗余
也就是数据不一致。多个使用某个文件的工作组之间会存在信息的冗余。除了必要的冗余之外，其他的冗余就是一种浪费。占用了更多的空间，增加了相关的费用。同时冗余会造成数据完整性的破坏。也就是数据不再一致。
3. 数据存在依赖
数据文件的物理结构和存储方式是由应用程序定义的，也就是说改变已经存在的结构非常的困难，比如当我们需要将某个数据项从40个字符变更为41个字符的时候，我们可能需要创建一个新的程序，但是这个程序是一次性的。同时我们还需要进行很多繁琐的操作才能完成。这是一件非常浪费时间并且容易出错的事情。文件系统的这个特性就是：程序-数据依赖性。
4. 文件格式不相容
文件是嵌入到程序当中的，但是不同的语言形成的文件结构并不相同。而且如果需要不同文件之间的转换需要编写一套专门的软件进行操作。
5. 查询一成不变/应用程序需要不断翻新
我们无法满足那种没有列入计划的查询，比如突发奇想的查询。又或者是不断的翻新文件和程序，最后数据处理部门一定不堪重负，同时也会导致应用程序不能很好的满足用户的工作需求。
因此下列的功能将不得不被舍弃：
  1. 不能提供安全性和完整性的保护
  2. 当硬件或者软件发生故障的时候不能进行恢复或者恢复受限。
  3. 在某一时刻只能有一名用户对文件进行访问，无法支持多人协同。
**总结**：
1. 数据是定义到应用程序中的，也就是数据和程序并不是分开的单独存储的。
2. 除了应用程序规定的那些数据访问和操作无法得到控制。
# 数据库
了解到基于文件系统的局限性之后，我们就要引入另一个新的、高效的方法：数据库和数据库管理系统。
因为数据库是一个含有大量的数据，并且可以被许多部门和用户同时使用的大数据集，因此数据的冗余很少，数据库不再是一个由某个部门私有，而是一个共享的资源，它含有对这些数据的描述。因此数据库也被定义为：一种集成记录的自描述集。
数据的描述被称为系统目录（字典或元数据），凭借这数据的自描述功能提供了程序的数据的独立性。
## 数据抽象
数据的定义与应用程序分离，与现代软件的对象的内部定义与外部定义十分类似。使用者只能看到对象的外部定义，无法看到对象的内部定义，也就是说，数据的内部对程序而言是透明的。
逻辑相关的：数据库能够表现实体、属性和实体之间的逻辑联系。
当分析一个组织需要的信息时，总是会找出实体、属性和联系
实体：组织中一个独立的将要再数据库中体现处的对象（人、地点、东西、概念、时间）。
属性：我们要记录的实体的特征。
联系：说明了实体之间的关联。
## 数据库管理系统
DBMS是用户的应用程序和数据库相互作用的软件。
提供的功能：
1. 通过数据库定义语言（DDL）定义数据库。
2. 允许用户进行增删改查等操作，这些工作都是通过数据操作语言（DML）完成的。
	因为数据与数据描述是集中存放的，DML提供了一个对数据的查询机制，称为查询语言。
	最常见的查询语言是结构话查询语言（SQL），SQL对于关系型DBMS来说，既是形式，又是实际的标准语言。
	数据库的受控访问：
	1. 一个安全的系统，禁止未授权的用户访问数据库。
	2. 一个完整的系统，保持所存储的数据的一致性。
	3. 一个并发控制系统，允许数据库的共享访问。
	4. 一个恢复控制系统，能够恢复到出现硬件或者软件故障之前的某一个一致的状态。
	5. 一个用户可访问的目录，这个目录描述了数据库中所存储的数据。
## 数据库应用程序
通过向DBMS发送合适的请求，比如说（SQL）来继续数据库交互作用的计算机程序。
## 视图
DBMS会显示一个用户并不太需要的信息，因此，DBMS提供了一种更为简便的方法，也就是视图机制。
这个机制允许每一个用户对数据库都有自己的视图，视图就是数据库的一个子集，需要的部门只查看自己的需要的内容。
视图的其他功能：
1. 提供了一个保密级别，可以屏蔽用户没有权限的信息。
2. 可以自定义数据库的外观。
3. 如果数据项被添加或者删除，再视图中没有这一项数据，那么视图并不会受到影响。由此提高了程序与数据的独立性。
# DBMS环境的组成部分
## 硬件
对于硬件，不同的DBMS有不同的需求，通常，简单的DBMS可以在个人电脑上运行，但是有些DBMS需要特定的环境。DBMS一般对硬盘和内存有一定的要求。
### 客户-服务器体系
核心计算机运行DBMS的后台程序，DBMS的前台机用于用户接口的部分。
## 软件
DBMS本身应用程序和操作系统。如果DBMS是在网络中，还包括网络应用。
通常应用程序是第三代编程软件写的，也就是C JAVA等语言编写的。或者使用嵌入到第三代编程语言中的第四代编程语言比如SQL编写。同时目标DBMS也会有自己的支持应用快速开发的第四代编程语言（非过程化查询语言、报表生成器、表单生成器、图形生成器、引用生成器）
### 数据
数据库中同时包含操作数据和元数据，也就是关于数据的数据，元数据组织到系统目录中。数据库结构称为模式，模式下设表，表中有字段（又称属性）
### 规程
指的是对数据库的设计和控制的一组命令和规则，可能的包含如下：
1. 登录DBMS
2. 使用特定的DBMS工具或者应用程序。
3. 启动关闭DBMS
4. 创建数据库的备份
5. 定位识别失效的部分，以及这部分的处理。
6. 改变表结构，重新组织跨多个硬盘的数据库，改良性能，备份数据。
## 数据库设计：范型改变
数据库中的数据是有结构的，数据库的结构是在数据库的实际过程中确定的。数据库方法要显示出自己的优势必须要首先考虑数据，再考虑应用。这种方法上的改变称为范型改变。
# 数据库环境中的各种角色
## 数据管理员和数据库管理员
数据管理员（DA）：管理数据资源，规划数据库，开发和维护标准、策略和规程，概念/逻辑数据库的设计。
数据库管理员（DBA）：数据库的物理实现包括设计、实现、安全和完整性控制、最终运行系统的维护。DBA更加偏向技术，需要对目标DBMS有相当的了解。
## 数据库设计人员
业务规则：对将存储到数据库中的数据的约束。使用数据库的人能做什么不能做什么。
**概念和逻辑数据库设计与干什么相关。
物理数据库的设计与怎么干相关。**
逻辑数据库设计人员：标识数据（实体和属性）、数据之间的联系。工作如下：
1. 概念数据库的设计。
2. 逻辑数据库的设计。
物理数据库设计人员：决定逻辑数据库的设计以何种物理形式实现。
1. 将逻辑数据库映射为一组表或者一组完整的约束。
2. 为了获得最佳的性能，选择何种特定的数据存储结构和访问方法。
3. 设计所要求的数据安全性检查。
## 应用开发人员
数据库完成之后，应用开发人员会开发满足用户需求的应用，每个程序都包含请求DBMS的某些操作的语句。
## 终端用户
也就是客户，但是用户也分为简单用户和熟练的用户
简单用户：他们不需要了解DBMS，只需要操作简单的指令就可以对数据库进行操作。
熟练的用户：这些用户能使用高级的查询语言比如SQL来完成操作，甚至能自己编写程序。
## DBMS的优缺点
优点：
1. 能够有效控制数据库的冗余，但是不是消除数据库的冗余
2. 由于数据只储存一次因此提高了数据的一致性。
3. 数据量不变，获得的信息量增加
4. 数据是共享的，它属于使用的人，或者部门，但是数据库属于整个组织。被授权的用户可以使用。



